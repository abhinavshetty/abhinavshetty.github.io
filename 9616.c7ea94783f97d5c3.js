"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[9616],{9616:(S,f,l)=>{l.r(f),l.d(f,{ProductModule:()=>L});var a=l(6814),m=l(95),_=l(9552),Z=l(3722),C=l(707),d=l(4480),y=l(4104),p=l(6340),u=l(6022),g=l(3714),h=l(6218),v=l(3965),b=l(1865),M=l(5167),P=l(3530),A=l(2129),T=l(5219),t=l(9467),U=l(981);function w(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",17)(1,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.openNew())}),t.qZA()()}}function q(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",19)(1,"h5",20),t._uU(2,"Manage Products"),t.qZA(),t.TgZ(3,"span",21),t._UZ(4,"i",22),t.TgZ(5,"input",23),t.NdJ("input",function(o){t.CHM(e);const r=t.oxw(),c=t.MAs(7);return t.KtG(r.onGlobalFilter(c,o))}),t.qZA()()()}}function N(n,s){1&n&&(t.TgZ(0,"tr")(1,"th",24),t._uU(2,"Code "),t._UZ(3,"p-sortIcon",25),t.qZA(),t.TgZ(4,"th",26),t._uU(5,"Name "),t._UZ(6,"p-sortIcon",27),t.qZA(),t.TgZ(7,"th",28),t._uU(8,"Price "),t._UZ(9,"p-sortIcon",29),t.qZA(),t.TgZ(10,"th",30),t._uU(11,"Category "),t._UZ(12,"p-sortIcon",31),t.qZA(),t.TgZ(13,"th",32),t._uU(14,"Reviews "),t._UZ(15,"p-sortIcon",33),t.qZA(),t.TgZ(16,"th",34),t._uU(17,"Status "),t._UZ(18,"p-sortIcon",35),t.qZA(),t._UZ(19,"th"),t.qZA())}function J(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td",36)(2,"span",37),t._uU(3,"Code"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"td",36)(6,"span",37),t._uU(7,"Name"),t.qZA(),t._uU(8),t.qZA(),t.TgZ(9,"td",38)(10,"span",37),t._uU(11,"Price"),t.qZA(),t._uU(12),t.ALo(13,"currency"),t.qZA(),t.TgZ(14,"td",36)(15,"span",37),t._uU(16,"Category"),t.qZA(),t._uU(17),t.qZA(),t.TgZ(18,"td",36)(19,"span",37),t._uU(20,"Reviews"),t.qZA(),t._UZ(21,"p-rating",39),t.qZA(),t.TgZ(22,"td",36)(23,"span",37),t._uU(24,"Status"),t.qZA(),t.TgZ(25,"span"),t._uU(26),t.qZA()(),t.TgZ(27,"td")(28,"div",40)(29,"button",41),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.editProduct(r))}),t.qZA(),t.TgZ(30,"button",42),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.deleteProduct(r))}),t.qZA()()()()}if(2&n){const e=s.$implicit;t.xp6(4),t.hij(" ",e.code||e.id," "),t.xp6(4),t.hij(" ",e.name," "),t.xp6(4),t.hij(" ",t.xi3(13,10,e.price,"USD")," "),t.xp6(5),t.hij(" ",e.category," "),t.xp6(4),t.Q6J("ngModel",e.rating)("readonly",!0)("cancel",!1),t.xp6(4),t.Tol("product-badge status-"+(e.inventoryStatus?e.inventoryStatus.toLowerCase():"")),t.xp6(1),t.Oqu(e.inventoryStatus)}}function D(n,s){if(1&n&&t._UZ(0,"img",70),2&n){const e=t.oxw(2);t.Q6J("src","assets/demo/images/product/"+e.product.image,t.LSH)("alt",e.product.image)}}function I(n,s){1&n&&(t.TgZ(0,"small",71),t._uU(1,"Name is required."),t.qZA())}function H(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.Tol("product-badge status-"+e.product.inventoryStatus.toString().toLowerCase()),t.xp6(1),t.Oqu(e.product.inventoryStatus)}}function B(n,s){if(1&n&&t.YNc(0,H,2,3,"span",72),2&n){const e=t.oxw(2);t.Q6J("ngIf",e.product&&e.product.inventoryStatus)}}function E(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Tol("product-badge status-"+e.value),t.xp6(1),t.Oqu(e.label)}}const R=n=>({"ng-invalid ng-dirty":n});function F(n,s){if(1&n){const e=t.EpF();t.YNc(0,D,1,2,"img",43),t.TgZ(1,"div",44)(2,"label",45),t._uU(3,"Name"),t.qZA(),t.TgZ(4,"input",46),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.product.name=o)}),t.qZA(),t.YNc(5,I,2,0,"small",47),t.qZA(),t.TgZ(6,"div",44)(7,"label",48),t._uU(8,"Description"),t.qZA(),t.TgZ(9,"textarea",49),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.product.description=o)}),t.qZA()(),t.TgZ(10,"div",44)(11,"label",50),t._uU(12,"Inventory Status"),t.qZA(),t.TgZ(13,"p-dropdown",51),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.product.inventoryStatus=o)}),t.YNc(14,B,1,1,"ng-template",52)(15,E,2,3,"ng-template",53),t.qZA()(),t.TgZ(16,"div",44)(17,"label",54),t._uU(18,"Category"),t.qZA(),t.TgZ(19,"div",55)(20,"div",56)(21,"p-radioButton",57),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.product.category=o)}),t.qZA(),t.TgZ(22,"label",58),t._uU(23,"Accessories"),t.qZA()(),t.TgZ(24,"div",56)(25,"p-radioButton",59),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.product.category=o)}),t.qZA(),t.TgZ(26,"label",60),t._uU(27,"Clothing"),t.qZA()(),t.TgZ(28,"div",56)(29,"p-radioButton",61),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.product.category=o)}),t.qZA(),t.TgZ(30,"label",62),t._uU(31,"Electronics"),t.qZA()(),t.TgZ(32,"div",56)(33,"p-radioButton",63),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.product.category=o)}),t.qZA(),t.TgZ(34,"label",64),t._uU(35,"Fitness"),t.qZA()()()(),t.TgZ(36,"div",55)(37,"div",65)(38,"label",66),t._uU(39,"Price"),t.qZA(),t.TgZ(40,"p-inputNumber",67),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.product.price=o)}),t.qZA()(),t.TgZ(41,"div",65)(42,"label",68),t._uU(43,"Quantity"),t.qZA(),t.TgZ(44,"p-inputNumber",69),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.product.quantity=o)}),t.qZA()()()}if(2&n){const e=t.oxw();t.Q6J("ngIf",e.product.image),t.xp6(4),t.Q6J("ngModel",e.product.name)("ngClass",t.VKq(13,R,e.submitted&&!e.product.name)),t.xp6(1),t.Q6J("ngIf",e.submitted&&!e.product.name),t.xp6(4),t.Q6J("ngModel",e.product.description),t.xp6(4),t.Q6J("ngModel",e.product.inventoryStatus)("options",e.statuses),t.xp6(8),t.Q6J("ngModel",e.product.category),t.xp6(4),t.Q6J("ngModel",e.product.category),t.xp6(4),t.Q6J("ngModel",e.product.category),t.xp6(4),t.Q6J("ngModel",e.product.category),t.xp6(7),t.Q6J("ngModel",e.product.price),t.xp6(4),t.Q6J("ngModel",e.product.quantity)}}function K(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",73),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.hideDialog())}),t.qZA(),t.TgZ(1,"button",74),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveProduct())}),t.qZA()}}function O(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1,"Are you sure you want to delete "),t.TgZ(2,"b"),t._uU(3),t.qZA(),t._uU(4,"?"),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.product.name)}}function k(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",75),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.deleteProductDialog=!1)}),t.qZA(),t.TgZ(1,"button",76),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirmDelete())}),t.qZA()}}function G(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",75),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.deleteProductsDialog=!1)}),t.qZA(),t.TgZ(1,"button",76),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirmDeleteSelected())}),t.qZA()}}const z=()=>["name","country.name","representative.name","status"],Q=()=>[10,20,30],x=()=>({width:"450px"});let Y=(()=>{class n{constructor(e,i){this.productService=e,this.messageService=i,this.productDialog=!1,this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.products=[],this.product={},this.selectedProducts=[],this.submitted=!1,this.cols=[],this.statuses=[],this.rowsPerPageOptions=[5,10,20],this.productCols=[]}ngOnInit(){this.productService.getProducts().then(e=>this.products=e),this.cols=[{field:"product",header:"Product"},{field:"price",header:"Price"},{field:"category",header:"Category"},{field:"rating",header:"Reviews"},{field:"inventoryStatus",header:"Status"}],this.productCols=[{field:"partNo",header:"Part no"},{field:"name",header:"Product Name"},{field:"category",header:"Category"},{field:"subcategory",header:"Sub-category"},{field:"isSold",header:"Can be sold?"}],this.statuses=[{label:"INSTOCK",value:"instock"},{label:"LOWSTOCK",value:"lowstock"},{label:"OUTOFSTOCK",value:"outofstock"}]}openNew(){this.product={},this.submitted=!1,this.productDialog=!0}deleteSelectedProducts(){this.deleteProductsDialog=!0}editProduct(e){this.product={...e},this.productDialog=!0}deleteProduct(e){this.deleteProductDialog=!0,this.product={...e}}confirmDeleteSelected(){this.deleteProductsDialog=!1,this.products=this.products.filter(e=>!this.selectedProducts.includes(e)),this.messageService.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3}),this.selectedProducts=[]}confirmDelete(){this.deleteProductDialog=!1,this.products=this.products.filter(e=>e.id!==this.product.id),this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.product={}}hideDialog(){this.productDialog=!1,this.submitted=!1}saveProduct(){this.submitted=!0,this.product.name?.trim()&&(this.product.id?(this.product.inventoryStatus=this.product.inventoryStatus.value?this.product.inventoryStatus.value:this.product.inventoryStatus,this.products[this.findIndexById(this.product.id)]=this.product,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Updated",life:3e3})):(this.product.id=this.createId(),this.product.code=this.createId(),this.product.image="product-placeholder.svg",this.product.inventoryStatus=this.product.inventoryStatus?this.product.inventoryStatus.value:"INSTOCK",this.products.push(this.product),this.messageService.add({severity:"success",summary:"Successful",detail:"Product Created",life:3e3})),this.products=[...this.products],this.productDialog=!1,this.product={})}findIndexById(e){let i=-1;for(let o=0;o<this.products.length;o++)if(this.products[o].id===e){i=o;break}return i}createId(){let e="";for(let o=0;o<5;o++)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return e}onGlobalFilter(e,i){e.filterGlobal(i.target.value,"contains")}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(U.M),t.Y36(T.ez))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],features:[t._Bn([T.ez])],decls:25,vars:27,consts:[[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","selectionMode","multiple","dataKey","id",3,"value","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Product Details",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"my-2"],["pButton","","pRipple","","label","New","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",1,"w-full","sm:w-auto",3,"input"],["pSortableColumn","code"],["field","code"],["pSortableColumn","name"],["field","name"],["pSortableColumn","price"],["field","price"],["pSortableColumn","category"],["field","category"],["pSortableColumn","rating"],["field","rating"],["pSortableColumn","inventoryStatus"],["field","inventoryStatus"],[2,"width","14%","min-width","10rem"],[1,"p-column-title"],[2,"width","14%","min-width","8rem"],[3,"ngModel","readonly","cancel"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],["width","150","class","mt-0 mx-auto mb-5 block shadow-2",3,"src","alt",4,"ngIf"],[1,"field"],["for","name"],["type","text","pInputText","","id","name","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","description"],["id","description","pInputTextarea","","required","","rows","3","cols","20",3,"ngModel","ngModelChange"],["for","status"],["inputId","inventoryStatus","optionValue","label","placeholder","Select",3,"ngModel","options","ngModelChange"],["pTemplate","selectedItem"],["pTemplate","item"],[1,"mb-3"],[1,"formgrid","grid"],[1,"field-radiobutton","col-6"],["id","category1","name","category","value","Accessories",3,"ngModel","ngModelChange"],["for","category1"],["id","category2","name","category","value","Clothing",3,"ngModel","ngModelChange"],["for","category2"],["id","category3","name","category","value","Electronics",3,"ngModel","ngModelChange"],["for","category3"],["id","category4","name","category","value","Fitness",3,"ngModel","ngModelChange"],["for","category4"],[1,"field","col"],["for","price"],["id","price","mode","currency","currency","USD","locale","en-US",3,"ngModel","ngModelChange"],["for","quantity"],["id","quantity",3,"ngModel","ngModelChange"],["width","150",1,"mt-0","mx-auto","mb-5","block","shadow-2",3,"src","alt"],[1,"ng-dirty","ng-invalid"],[3,"class",4,"ngIf"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"p-toast"),t.TgZ(4,"p-toolbar",3),t.YNc(5,w,2,0,"ng-template",4),t.qZA(),t.TgZ(6,"p-table",5,6),t.NdJ("selectionChange",function(c){return o.selectedProducts=c}),t.YNc(8,q,6,0,"ng-template",7)(9,N,20,0,"ng-template",8)(10,J,31,13,"ng-template",9),t.qZA()(),t.TgZ(11,"p-dialog",10),t.NdJ("visibleChange",function(c){return o.productDialog=c}),t.YNc(12,F,45,15,"ng-template",11)(13,K,2,0,"ng-template",12),t.qZA(),t.TgZ(14,"p-dialog",13),t.NdJ("visibleChange",function(c){return o.deleteProductDialog=c}),t.TgZ(15,"div",14),t._UZ(16,"i",15),t.YNc(17,O,5,1,"span",16),t.qZA(),t.YNc(18,k,2,0,"ng-template",12),t.qZA(),t.TgZ(19,"p-dialog",13),t.NdJ("visibleChange",function(c){return o.deleteProductsDialog=c}),t.TgZ(20,"div",14),t._UZ(21,"i",15),t.TgZ(22,"span"),t._uU(23,"Are you sure you want to delete selected products?"),t.qZA()(),t.YNc(24,G,2,0,"ng-template",12),t.qZA()()()),2&i&&(t.xp6(6),t.Q6J("value",o.products)("columns",o.cols)("rows",10)("globalFilterFields",t.DdM(22,z))("paginator",!0)("rowsPerPageOptions",t.DdM(23,Q))("showCurrentPageReport",!0)("selection",o.selectedProducts)("rowHover",!0),t.xp6(5),t.Akn(t.DdM(24,x)),t.Q6J("visible",o.productDialog)("modal",!0),t.xp6(3),t.Akn(t.DdM(25,x)),t.Q6J("visible",o.deleteProductDialog)("modal",!0),t.xp6(3),t.Q6J("ngIf",o.product),t.xp6(2),t.Akn(t.DdM(26,x)),t.Q6J("visible",o.deleteProductsDialog)("modal",!0))},dependencies:[a.mk,a.O5,_.iA,T.jx,_.lQ,_.fz,C.Hq,m.Fj,m.JJ,m.Q7,m.On,d.H,y.FN,p.o,u.iG,g.o,h.g,v.Lt,b.EU,M.Rn,P.V,a.H9],encapsulation:2})}return n})(),j=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#o=this.\u0275inj=t.cJS({imports:[A.Bz.forChild([{path:"",component:Y}]),A.Bz]})}return n})(),L=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#o=this.\u0275inj=t.cJS({imports:[a.ez,j,_.U$,Z.O,m.u5,C.hJ,d.T,y.EV,p.V,u.Xt,g.j,h.A,v.kW,b.cc,M.L$,P.S]})}return n})()},6218:(S,f,l)=>{l.d(f,{A:()=>C,g:()=>Z});var a=l(9467),m=l(6814),_=l(95);let Z=(()=>{class d{el;ngModel;control;cd;autoResize;onResize=new a.vpe;filled;cachedScrollHeight;ngModelSubscription;ngControlSubscription;constructor(p,u,g,h){this.el=p,this.ngModel=u,this.control=g,this.cd=h}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewChecked(){this.updateState()}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(p){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}resize(p){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(p||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}static \u0275fac=function(u){return new(u||d)(a.Y36(a.SBq),a.Y36(_.On,8),a.Y36(_.a5,8),a.Y36(a.sBO))};static \u0275dir=a.lG2({type:d,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(u,g){1&u&&a.NdJ("input",function(v){return g.onInput(v)}),2&u&&a.ekj("p-filled",g.filled)("p-inputtextarea-resizable",g.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}})}return d})(),C=(()=>{class d{static \u0275fac=function(u){return new(u||d)};static \u0275mod=a.oAB({type:d});static \u0275inj=a.cJS({imports:[m.ez]})}return d})()}}]);