"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[15],{6015:(Q,_,r)=>{r.r(_),r.d(_,{DealerModule:()=>Z});var d=r(177),c=r(4341),h=r(3383),x=r(9615),u=r(1141),f=r(563),C=r(9998),D=r(1830),T=r(4714),b=r(2242),j=r(1305),y=r(8833),v=r(494),k=r(981),F=r(1570),R=r(2365),m=r(5779),e=r(4438),M=r(3450);const I=()=>[10,20,30],g=()=>({width:"450px"}),N=n=>({"ng-invalid ng-dirty":n});function S(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",17)(1,"button",18),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.openNew())}),e.k0s()()}}function P(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",19)(1,"h5",20),e.EFF(2,"Manage Products"),e.k0s(),e.j41(3,"span",21),e.nrm(4,"i",22),e.j41(5,"input",23),e.bIt("input",function(o){e.eBV(t);const i=e.XpG(),p=e.sdS(7);return e.Njj(i.onGlobalFilter(p,o))}),e.k0s()()()}}function G(n,a){if(1&n&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.header," ")}}function B(n,a){if(1&n&&(e.j41(0,"tr"),e.DNE(1,G,2,1,"th",24),e.nrm(2,"th"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngForOf",t)}}function E(n,a){if(1&n&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit,l=e.XpG().$implicit;e.R7$(),e.SpI(" ",l[t.field]," ")}}function V(n,a){if(1&n){const t=e.RV6();e.j41(0,"tr"),e.DNE(1,E,2,1,"td",24),e.j41(2,"td")(3,"div",25)(4,"p-button",26),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.editProduct(o))}),e.k0s(),e.j41(5,"p-button",27),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.deleteProduct(o))}),e.k0s()()()()}if(2&n){const t=a.columns;e.R7$(),e.Y8G("ngForOf",t),e.R7$(3),e.Y8G("rounded",!0)("link",!0),e.R7$(),e.Y8G("rounded",!0)("link",!0)}}function X(n,a){if(1&n&&e.nrm(0,"img",55),2&n){const t=e.XpG(2);e.Y8G("src","assets/demo/images/product/"+t.product.image,e.B4B)("alt",t.product.image)}}function w(n,a){1&n&&(e.j41(0,"small",56),e.EFF(1,"Name is required."),e.k0s())}function Y(n,a){if(1&n&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(3);e.HbH("product-badge status-"+t.product.inventoryStatus.toString().toLowerCase()),e.R7$(),e.JRh(t.product.inventoryStatus)}}function H(n,a){if(1&n&&e.DNE(0,Y,2,3,"span",57),2&n){const t=e.XpG(2);e.Y8G("ngIf",t.product&&t.product.inventoryStatus)}}function O(n,a){if(1&n&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.HbH("product-badge status-"+t.value),e.R7$(),e.JRh(t.label)}}function A(n,a){if(1&n){const t=e.RV6();e.DNE(0,X,1,2,"img",28),e.j41(1,"div",29)(2,"label",30),e.EFF(3,"Name"),e.k0s(),e.j41(4,"input",31),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.product.name,o)||(i.product.name=o),e.Njj(o)}),e.k0s(),e.DNE(5,w,2,0,"small",32),e.k0s(),e.j41(6,"div",29)(7,"label",33),e.EFF(8,"Description"),e.k0s(),e.j41(9,"textarea",34),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.product.description,o)||(i.product.description=o),e.Njj(o)}),e.k0s()(),e.j41(10,"div",29)(11,"label",35),e.EFF(12,"Inventory Status"),e.k0s(),e.j41(13,"p-dropdown",36),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.product.inventoryStatus,o)||(i.product.inventoryStatus=o),e.Njj(o)}),e.DNE(14,H,1,1,"ng-template",37)(15,O,2,3,"ng-template",38),e.k0s()(),e.j41(16,"div",29)(17,"label",39),e.EFF(18,"Category"),e.k0s(),e.j41(19,"div",40)(20,"div",41)(21,"p-radioButton",42),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.product.category,o)||(i.product.category=o),e.Njj(o)}),e.k0s(),e.j41(22,"label",43),e.EFF(23,"Accessories"),e.k0s()(),e.j41(24,"div",41)(25,"p-radioButton",44),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.product.category,o)||(i.product.category=o),e.Njj(o)}),e.k0s(),e.j41(26,"label",45),e.EFF(27,"Clothing"),e.k0s()(),e.j41(28,"div",41)(29,"p-radioButton",46),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.product.category,o)||(i.product.category=o),e.Njj(o)}),e.k0s(),e.j41(30,"label",47),e.EFF(31,"Electronics"),e.k0s()(),e.j41(32,"div",41)(33,"p-radioButton",48),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.product.category,o)||(i.product.category=o),e.Njj(o)}),e.k0s(),e.j41(34,"label",49),e.EFF(35,"Fitness"),e.k0s()()()(),e.j41(36,"div",40)(37,"div",50)(38,"label",51),e.EFF(39,"Price"),e.k0s(),e.j41(40,"p-inputNumber",52),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.product.price,o)||(i.product.price=o),e.Njj(o)}),e.k0s()(),e.j41(41,"div",50)(42,"label",53),e.EFF(43,"Quantity"),e.k0s(),e.j41(44,"p-inputNumber",54),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.product.quantity,o)||(i.product.quantity=o),e.Njj(o)}),e.k0s()()()}if(2&n){const t=e.XpG();e.Y8G("ngIf",t.product.image),e.R7$(4),e.R50("ngModel",t.product.name),e.Y8G("ngClass",e.eq3(13,N,t.submitted&&!t.product.name)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.name),e.R7$(4),e.R50("ngModel",t.product.description),e.R7$(4),e.R50("ngModel",t.product.inventoryStatus),e.Y8G("options",t.statuses),e.R7$(8),e.R50("ngModel",t.product.category),e.R7$(4),e.R50("ngModel",t.product.category),e.R7$(4),e.R50("ngModel",t.product.category),e.R7$(4),e.R50("ngModel",t.product.category),e.R7$(7),e.R50("ngModel",t.product.price),e.R7$(4),e.R50("ngModel",t.product.quantity)}}function J(n,a){if(1&n){const t=e.RV6();e.j41(0,"button",58),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.hideDialog())}),e.k0s(),e.j41(1,"button",59),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.saveProduct())}),e.k0s()}}function U(n,a){if(1&n&&(e.j41(0,"span"),e.EFF(1,"Are you sure you want to delete "),e.j41(2,"b"),e.EFF(3),e.k0s(),e.EFF(4,"?"),e.k0s()),2&n){const t=e.XpG();e.R7$(3),e.JRh(t.product.name)}}function $(n,a){if(1&n){const t=e.RV6();e.j41(0,"button",60),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteProductDialog=!1)}),e.k0s(),e.j41(1,"button",61),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.confirmDelete())}),e.k0s()}}function K(n,a){if(1&n){const t=e.RV6();e.j41(0,"button",60),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteProductsDialog=!1)}),e.k0s(),e.j41(1,"button",61),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.confirmDeleteSelected())}),e.k0s()}}let z=(()=>{class n{constructor(t,l){this.dealerService=t,this.messageService=l,this.productDialog=!1,this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.products=[],this.dealers=[],this.product={},this.selectedProducts=[],this.submitted=!1,this.cols=[],this.statuses=[],this.rowsPerPageOptions=[5,10,20],this.productCols=[],this.dealerCols=[],this.filterFields=[]}ngOnInit(){this.dealerService.getAllDealers().subscribe(t=>this.dealers=t),this.cols=[{field:"product",header:"Product"},{field:"price",header:"Price"},{field:"category",header:"Category"},{field:"rating",header:"Reviews"},{field:"inventoryStatus",header:"Status"}],this.dealerCols=[{field:"name",header:"Product Name"},{field:"code",header:"Category"},{field:"email",header:"Sub-category"},{field:"phone",header:"Can be sold?"},{field:"notes",header:"Notes for Dealer"}],this.productCols=[{field:"name",header:"Product Name"},{field:"category",header:"Category"},{field:"subcategory",header:"Sub-category"},{field:"sold",header:"Can be sold?"}],this.filterFields=this.productCols.map(t=>t.field),this.statuses=[{label:"INSTOCK",value:"instock"},{label:"LOWSTOCK",value:"lowstock"},{label:"OUTOFSTOCK",value:"outofstock"}]}openNew(){this.product={},this.submitted=!1,this.productDialog=!0}deleteSelectedProducts(){this.deleteProductsDialog=!0}editProduct(t){this.product={...t},this.productDialog=!0}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}confirmDeleteSelected(){this.deleteProductsDialog=!1,this.products=this.products.filter(t=>!this.selectedProducts.includes(t)),this.messageService.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3}),this.selectedProducts=[]}confirmDelete(){this.deleteProductDialog=!1,this.products=this.products.filter(t=>t.id!==this.product.id),this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.product={}}hideDialog(){this.productDialog=!1,this.submitted=!1}saveProduct(){this.submitted=!0,this.product.name?.trim()&&(this.product.id?(this.product.inventoryStatus=this.product.inventoryStatus.value?this.product.inventoryStatus.value:this.product.inventoryStatus,this.products[this.findIndexById(this.product.id)]=this.product,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Updated",life:3e3})):(this.product.id=this.createId(),this.product.code=this.createId(),this.product.image="product-placeholder.svg",this.product.inventoryStatus=this.product.inventoryStatus?this.product.inventoryStatus.value:"INSTOCK",this.products.push(this.product),this.messageService.add({severity:"success",summary:"Successful",detail:"Product Created",life:3e3})),this.products=[...this.products],this.productDialog=!1,this.product={})}findIndexById(t){let l=-1;for(let o=0;o<this.products.length;o++)if(this.products[o].id===t){l=o;break}return l}createId(){let t="";for(let o=0;o<5;o++)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return t}onGlobalFilter(t,l){t.filterGlobal(l.target.value,"contains")}static{this.\u0275fac=function(l){return new(l||n)(e.rXU(M.X),e.rXU(m.bg))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["ng-component"]],features:[e.Jv_([m.bg])],decls:25,vars:26,consts:[["dt",""],[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["styleClass","p-datatable-sm","responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","selectionMode","multiple","dataKey","id",3,"selectionChange","value","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Product Details",1,"p-fluid",3,"visibleChange","visible","modal"],["pTemplate","content"],["pTemplate","footer"],["header","Confirm",3,"visibleChange","visible","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"my-2"],["pButton","","pRipple","","label","New","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",1,"w-full","sm:w-auto",3,"input"],[4,"ngFor","ngForOf"],[1,"flex"],["severity","success","icon","pi pi-pencil","size","small",3,"click","rounded","link"],["severity","warning","icon","pi pi-trash","size","small",3,"click","rounded","link"],["width","150","class","mt-0 mx-auto mb-5 block shadow-2",3,"src","alt",4,"ngIf"],[1,"field"],["for","name"],["type","text","pInputText","","id","name","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","description"],["id","description","pInputTextarea","","required","","rows","3","cols","20",3,"ngModelChange","ngModel"],["for","status"],["inputId","inventoryStatus","optionValue","label","placeholder","Select",3,"ngModelChange","ngModel","options"],["pTemplate","selectedItem"],["pTemplate","item"],[1,"mb-3"],[1,"formgrid","grid"],[1,"field-radiobutton","col-6"],["id","category1","name","category","value","Accessories",3,"ngModelChange","ngModel"],["for","category1"],["id","category2","name","category","value","Clothing",3,"ngModelChange","ngModel"],["for","category2"],["id","category3","name","category","value","Electronics",3,"ngModelChange","ngModel"],["for","category3"],["id","category4","name","category","value","Fitness",3,"ngModelChange","ngModel"],["for","category4"],[1,"field","col"],["for","price"],["id","price","mode","currency","currency","USD","locale","en-US",3,"ngModelChange","ngModel"],["for","quantity"],["id","quantity",3,"ngModelChange","ngModel"],["width","150",1,"mt-0","mx-auto","mb-5","block","shadow-2",3,"src","alt"],[1,"ng-dirty","ng-invalid"],[3,"class",4,"ngIf"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(l,o){if(1&l){const i=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3),e.nrm(3,"p-toast"),e.j41(4,"p-toolbar",4),e.DNE(5,S,2,0,"ng-template",5),e.k0s(),e.j41(6,"p-table",6,0),e.mxI("selectionChange",function(s){return e.eBV(i),e.DH7(o.selectedProducts,s)||(o.selectedProducts=s),e.Njj(s)}),e.DNE(8,P,6,0,"ng-template",7)(9,B,3,1,"ng-template",8)(10,V,6,5,"ng-template",9),e.k0s()(),e.j41(11,"p-dialog",10),e.mxI("visibleChange",function(s){return e.eBV(i),e.DH7(o.productDialog,s)||(o.productDialog=s),e.Njj(s)}),e.DNE(12,A,45,15,"ng-template",11)(13,J,2,0,"ng-template",12),e.k0s(),e.j41(14,"p-dialog",13),e.mxI("visibleChange",function(s){return e.eBV(i),e.DH7(o.deleteProductDialog,s)||(o.deleteProductDialog=s),e.Njj(s)}),e.j41(15,"div",14),e.nrm(16,"i",15),e.DNE(17,U,5,1,"span",16),e.k0s(),e.DNE(18,$,2,0,"ng-template",12),e.k0s(),e.j41(19,"p-dialog",13),e.mxI("visibleChange",function(s){return e.eBV(i),e.DH7(o.deleteProductsDialog,s)||(o.deleteProductsDialog=s),e.Njj(s)}),e.j41(20,"div",14),e.nrm(21,"i",15),e.j41(22,"span"),e.EFF(23,"Are you sure you want to delete selected products?"),e.k0s()(),e.DNE(24,K,2,0,"ng-template",12),e.k0s()()()}2&l&&(e.R7$(6),e.Y8G("value",o.dealers)("columns",o.dealerCols)("rows",10)("globalFilterFields",o.filterFields)("paginator",!0)("rowsPerPageOptions",e.lJ4(22,I))("showCurrentPageReport",!0),e.R50("selection",o.selectedProducts),e.Y8G("rowHover",!0),e.R7$(5),e.Aen(e.lJ4(23,g)),e.R50("visible",o.productDialog),e.Y8G("modal",!0),e.R7$(3),e.Aen(e.lJ4(24,g)),e.R50("visible",o.deleteProductDialog),e.Y8G("modal",!0),e.R7$(3),e.Y8G("ngIf",o.product),e.R7$(2),e.Aen(e.lJ4(25,g)),e.R50("visible",o.deleteProductsDialog),e.Y8G("modal",!0))},dependencies:[d.YU,d.Sq,d.bT,h.XI,m.Ei,u._f,u.$n,c.me,c.BC,c.YS,c.vS,f.n,C.y8,D.M,b.S,j.Z,y.ms,v.a,k.YI,F.l],encapsulation:2})}}return n})(),L=(()=>{class n{static{this.\u0275fac=function(l){return new(l||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[R.iI.forChild([{path:"",component:z}]),R.iI]})}}return n})(),Z=(()=>{class n{static{this.\u0275fac=function(l){return new(l||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[d.MD,L,h.bG,x.e,c.YN,u.tm,f.Z,C.MB,D.m,T.wZ,b.u,j.f,y.kr,v.Ko,k.O3,F.P]})}}return n})()}}]);